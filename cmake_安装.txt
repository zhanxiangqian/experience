1 安装库及可执行文件
 最常用的凳 DESTINATION，用以指定安b的目的地。假如我有 app、calc-s、calc 三 target，install() 指令通常起硐襁@樱

  install(TARGETS app calc calc-s
        RUNTIME DESTINATION bin
        LIBRARY DESTINATION lib
        ARCHIVE DESTINATION lib/static
        PUBLIC_HEADER DESTINATION include
        )
  有了install 指令 CMake 臀在 makefile 中a生 install 的 rule，我绦型 make install 之後，@些 target 所生成的绦n或 dll跑  到安b路较碌 bin，oB程式跑到 lib/static，而so跑到 lib Y料A下。如果有指定 target 的 PUBLIC_HEADER 傩裕指定的 header 也自己安b到 include Y料A下。

可是到底安b到哪e去了呢？安b路接扇域 CMAKE_INSTALL_PREFIX 控制。在 Windows 上AO是

C:\Program Files\
在 Unix-like 系yAO是

/usr/local/
我可以在 CMakeLists 中直接用 set() O定 CMAKE_INSTALL_PREFIX 值，不^留到绦 cmake 再由命令列指定比^有性。

cmake -DCMAKE_INSTALL_PREFIX="d:/my_precious


2安装其他文件

    @功能碓茨夸下的热菀罘绞窖}u至 DESTINATION 指定的目，注意下面烧碓茨夸最後斜的差e：

# 会将目录复制成为 dst/src/{subdirs and files...}
install(DIRECTORY   myproj/src
        DESTINATION dst)

# 会将目录复制成为 dst/{subdirs and files...}
install(DIRECTORY   myproj/src/
        DESTINATION dst)
 Linux 使用者而言@拥男很熟悉。


 FILES_MATCHING 用於指定操作n案的l件，可以使用 PATTERN 或 REGEX 煞N比Ψ绞剑要注意 PATTERN 比θ路蕉不只是n名。

install(DIRECTORY src/ DESTINATION include
        FILES_MATCHING PATTERN "*.h")
以上把 src/ 底下所有副n名 .h 的n案}u到 include Y料A下，K且保留原本目涞募。

在比l件後面接 EXCLUDE 可用砼懦符合l件的n案或目，使其被 install 忽略。

install(DIRECTORY myapp/ mylib DESTINATION myproj
        PATTERN ".git" EXCLUDE
        )
myapp 的热被}u到 myproj 下
mylib 的热被}u到 myproj/mylib 下
所有完整路街邪含「.git」的n案或目都不被}u，例如 myapp/.git/branches 等等。